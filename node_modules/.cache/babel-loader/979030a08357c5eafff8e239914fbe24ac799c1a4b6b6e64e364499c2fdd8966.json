{"ast":null,"code":"var _jsxFileName = \"/home/amol/projects/liquid-dts/react/src/components/MyDataTable.js\";\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst $ = require(\"jquery\");\n$.DataTable = require(\"datatables.net\");\nconst columns = [];\nconst COLUMN_MAPPING = {\n  'LD ID': 'id',\n  'STK': 'item_attributes.diamond#stock_number.trans',\n  'CERT': 'item_attributes.diamond#cert_number.trans',\n  'AGING': 'aging_group',\n  'SHP': 'item_attributes.diamond#shape.trans',\n  'COL': 'item_attributes.diamond#color.trans',\n  'CLAR': 'item_attributes.diamond#clarity.trans',\n  'CTS': 'item_attributes.gem#carats.trans',\n  'MILKY': 'item_attributes.diamond#milky.trans',\n  'SHADE': 'item_attributes.diamond#shade.trans',\n  'MAKE': 'item_attributes.diamond#make.trans',\n  'FLOUR': 'item_attributes.diamond#fluor.trans',\n  'BIC': 'item_attributes.diamond#black_in_center.trans',\n  'BIS': 'item_attributes.diamond#black_in_side.trans',\n  'WIC': 'item_attributes.diamond#white_in_center.trans',\n  'WIS': 'item_attributes.diamond#white_in_side.trans',\n  'LAB': 'item_attributes.diamond#cert.trans',\n  'RAP %': 'item_attributes.diamond#rap_percent.trans',\n  '$/CT': 'item_attributes.gem#price_per_carat.trans',\n  'Total': 'sell_offer_cents'\n};\nObject.entries(COLUMN_MAPPING).map(_ref => {\n  let [key, mapper] = _ref;\n  tmp_hash = {\n    title: key,\n    data: mapper\n  };\n  if (key === 'Total') tmp_hash[render] = $.fn.dataTable.render.number(',', '.', 2);\n  columns.push(tmp_hash);\n});\nclass MyDataTable extends Component {\n  constructor(props) {\n    super(props);\n    this.reloadTableData = data => {\n      const table = $('.data-table-wrapper').find('table').DataTable();\n      table.clear();\n      table.rows.add(data);\n      table.draw();\n    };\n    this.state = {\n      data: this.props.data,\n      columns: columns\n    };\n  }\n  componentDidMount() {\n    this.$el = $(this.el);\n    this.$el.DataTable({\n      dom: '<\"data-table-wrapper\"t>',\n      data: this.state.data,\n      columns: this.state.columns,\n      ordering: true,\n      paging: true,\n      columnDefs: [{\n        targets: [5],\n        className: \"text-center\"\n      }, {\n        targets: [19],\n        className: \"text-center\"\n      }]\n    });\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextProps.data.length !== this.state.data.length) {\n      this.reloadTableData(nextProps.data);\n    }\n    return false;\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-borderless display\",\n        id: \"dataTable\",\n        ref: el => this.el = el\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default MyDataTable;","map":{"version":3,"names":["React","Component","ReactDOM","$","require","DataTable","columns","COLUMN_MAPPING","Object","entries","map","key","mapper","tmp_hash","title","data","render","fn","dataTable","number","push","MyDataTable","constructor","props","reloadTableData","table","find","clear","rows","add","draw","state","componentDidMount","$el","el","dom","ordering","paging","columnDefs","targets","className","shouldComponentUpdate","nextProps","nextState","length"],"sources":["/home/amol/projects/liquid-dts/react/src/components/MyDataTable.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nconst $ = require(\"jquery\");\n$.DataTable = require(\"datatables.net\");\n\nconst columns = [];\nconst COLUMN_MAPPING = {\n  'LD ID' : 'id',\n  'STK'   : 'item_attributes.diamond#stock_number.trans',\n  'CERT'  : 'item_attributes.diamond#cert_number.trans',\n  'AGING' : 'aging_group',\n  'SHP'   : 'item_attributes.diamond#shape.trans',\n  'COL'   : 'item_attributes.diamond#color.trans',\n  'CLAR'  : 'item_attributes.diamond#clarity.trans',\n  'CTS'   : 'item_attributes.gem#carats.trans',\n  'MILKY' : 'item_attributes.diamond#milky.trans',\n  'SHADE' : 'item_attributes.diamond#shade.trans',\n  'MAKE'  : 'item_attributes.diamond#make.trans',\n  'FLOUR' : 'item_attributes.diamond#fluor.trans',\n  'BIC'   : 'item_attributes.diamond#black_in_center.trans',\n  'BIS'   : 'item_attributes.diamond#black_in_side.trans',\n  'WIC'   : 'item_attributes.diamond#white_in_center.trans',\n  'WIS'   : 'item_attributes.diamond#white_in_side.trans',\n  'LAB'   : 'item_attributes.diamond#cert.trans',\n  'RAP %' : 'item_attributes.diamond#rap_percent.trans',\n  '$/CT'  : 'item_attributes.gem#price_per_carat.trans',\n  'Total' : 'sell_offer_cents',\n  }\n  Object.entries(COLUMN_MAPPING).map(([key, mapper]) => {\n    tmp_hash = {\n      title: key,\n      data: mapper}\n      if(key === 'Total') \n        tmp_hash[render] = $.fn.dataTable.render.number( ',', '.', 2 )\n    columns.push(tmp_hash)\n  })\n\nclass MyDataTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: this.props.data,\n      columns: columns\n    };\n  }\n\n  componentDidMount() {\n    this.$el = $(this.el);\n    this.$el.DataTable({\n      dom: '<\"data-table-wrapper\"t>',\n      data: this.state.data,\n      columns: this.state.columns,\n      ordering: true,\n      paging: true,\n      columnDefs: [\n        {\n          targets: [5],\n          className: \"text-center\",\n        },\n        {\n          targets: [19],\n          className: \"text-center\",\n        }\n      ]\n    });\n  }\n\n  reloadTableData = (data) => {\n    const table = $('.data-table-wrapper').find('table').DataTable();\n    table.clear();\n    table.rows.add(data);\n    table.draw();\n  }\n\n  shouldComponentUpdate(nextProps, nextState){\n    if (nextProps.data.length !== this.state.data.length) {\n      this.reloadTableData(nextProps.data);\n    }\n    return false;\n  }\n\n  render() {\n    return (\n      <div>\n        <table className=\"table table-borderless display\" id=\"dataTable\" ref={(el) => (this.el = el)} />\n      </div>\n    );\n  }\n}\nexport default MyDataTable;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}